digraph G {
    rankdir=LR;
    node [shape=box, style=filled, color="#E1E1E1", fontname="Arial"];
    compound=true;

    subgraph cluster_exporters {
        label = "Data Sources (Exporters)";
        style = dashed;
        color = blue;
        node [fillcolor="#D4E1F5"];
        node_exp [label="Node Exporter\n(Host Metrics)"];
        cadvisor [label="cAdvisor\n(Container Metrics)"];
        blackbox [label="Blackbox Exporter\n(HTTP/TCP Probes)"];
    }

    subgraph cluster_core {
        label = "Monitoring Core";
        style = dashed;
        color = red;
        node [fillcolor="#F5D4D4"];
        prom [label="Prometheus\n(Scraping & Alerting)"];
        vic [label="VictoriaMetrics\n(TSDB Storage)"];
    }

    subgraph cluster_output {
        label = "Visualization & Alerting";
        style = dashed;
        color = green;
        node [fillcolor="#D4F5D4"];
        grafana [label="Grafana\n(Dashboards-as-Code)"];
        alertmgr [label="Alertmanager\n(Notification Routing)"];
    }

    # Data Flow
    node_exp -> prom [label="scrape"];
    cadvisor -> prom [label="scrape"];
    blackbox -> prom [label="scrape"];
    
    prom -> vic [label="remote_write"];
    prom -> alertmgr [label="alerts"];
    
    vic -> grafana [label="query"];
    prom -> grafana [label="query"];
}
